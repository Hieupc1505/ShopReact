{"ast":null,"code":"import { USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_AUTH_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_VERIFY, USER_LOGOUT, USER_UPLOAD_PROFILE, CLEAR_ERROR, USER_UPDATE_PROFILE, USER_UPLOAD_REQUEST, USER_REQUEST, REQUEST_FAIL, USER_FORGET_SENDEMAIL, USER_FORGET_RESET } from \"./typeAuth\";\nconst userState = {\n  isLoad: true,\n  isAuth: false,\n  user: null\n};\nexport const userAuth = (state = userState, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case USER_LOGIN_REQUEST:\n    case USER_UPLOAD_REQUEST:\n      return { ...state,\n        isLoad: true\n      };\n\n    case USER_LOGIN_SUCCESS:\n    case USER_FORGET_SENDEMAIL:\n    case USER_FORGET_RESET:\n      return { ...state,\n        isLoad: false\n      };\n\n    case USER_REGISTER_REQUEST:\n      return { ...state,\n        isLoad: true\n      };\n\n    case USER_REGISTER_SUCCESS:\n      return {\n        isLoad: false,\n        isAuth: false,\n        user: null\n      };\n\n    case USER_AUTH_FAIL:\n      return { ...state,\n        isLoad: false,\n        error: payload.error.includes(\"jwt\") ? \"Hành động đã quá hạn!!\" : payload.error\n      };\n\n    case USER_VERIFY:\n      return {\n        isLoad: false,\n        isAuth: payload.isAuth,\n        user: payload.user\n      };\n\n    case USER_LOGOUT:\n      return {\n        isLoad: false,\n        isAuth: false,\n        user: null\n      };\n\n    case USER_UPLOAD_PROFILE:\n      if (state.user.mark === 1) return state;\n      return { ...state,\n        isLoad: false,\n        user: payload.user\n      };\n\n    case CLEAR_ERROR:\n      return { ...state,\n        isLoad: false,\n        error: null\n      };\n\n    case USER_REQUEST:\n      return { ...state,\n        isLoad: true\n      };\n\n    case USER_UPDATE_PROFILE:\n      return { ...state,\n        isLoad: false,\n        user: payload.user\n      };\n\n    case REQUEST_FAIL:\n      return { ...state,\n        isLoad: false\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/DELL/Desktop/ShopFull/client/src/Redux/Auth/authReducer.js"],"names":["USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_AUTH_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_VERIFY","USER_LOGOUT","USER_UPLOAD_PROFILE","CLEAR_ERROR","USER_UPDATE_PROFILE","USER_UPLOAD_REQUEST","USER_REQUEST","REQUEST_FAIL","USER_FORGET_SENDEMAIL","USER_FORGET_RESET","userState","isLoad","isAuth","user","userAuth","state","action","type","payload","error","includes","mark"],"mappings":"AAAA,SACIA,kBADJ,EAEIC,kBAFJ,EAGIC,cAHJ,EAIIC,qBAJJ,EAKIC,qBALJ,EAMIC,WANJ,EAOIC,WAPJ,EAQIC,mBARJ,EASIC,WATJ,EAUIC,mBAVJ,EAWIC,mBAXJ,EAYIC,YAZJ,EAaIC,YAbJ,EAcIC,qBAdJ,EAeIC,iBAfJ,QAgBO,YAhBP;AAkBA,MAAMC,SAAS,GAAG;AACdC,EAAAA,MAAM,EAAE,IADM;AAEdC,EAAAA,MAAM,EAAE,KAFM;AAGdC,EAAAA,IAAI,EAAE;AAHQ,CAAlB;AAMA,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAK,GAAGL,SAAT,EAAoBM,MAApB,KAA+B;AACnD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AAEA,UAAQC,IAAR;AACI,SAAKtB,kBAAL;AACA,SAAKU,mBAAL;AACI,aAAO,EACH,GAAGU,KADA;AAEHJ,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAKJ,SAAKf,kBAAL;AACA,SAAKY,qBAAL;AACA,SAAKC,iBAAL;AACI,aAAO,EACH,GAAGM,KADA;AAEHJ,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAKJ,SAAKb,qBAAL;AACI,aAAO,EACH,GAAGiB,KADA;AAEHJ,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAKJ,SAAKZ,qBAAL;AACI,aAAO;AACHY,QAAAA,MAAM,EAAE,KADL;AAEHC,QAAAA,MAAM,EAAE,KAFL;AAGHC,QAAAA,IAAI,EAAE;AAHH,OAAP;;AAMJ,SAAKhB,cAAL;AACI,aAAO,EACH,GAAGkB,KADA;AAEHJ,QAAAA,MAAM,EAAE,KAFL;AAGHQ,QAAAA,KAAK,EAAED,OAAO,CAACC,KAAR,CAAcC,QAAd,CAAuB,KAAvB,IACD,wBADC,GAEDF,OAAO,CAACC;AALX,OAAP;;AAOJ,SAAKnB,WAAL;AACI,aAAO;AACHW,QAAAA,MAAM,EAAE,KADL;AAEHC,QAAAA,MAAM,EAAEM,OAAO,CAACN,MAFb;AAGHC,QAAAA,IAAI,EAAEK,OAAO,CAACL;AAHX,OAAP;;AAKJ,SAAKZ,WAAL;AACI,aAAO;AACHU,QAAAA,MAAM,EAAE,KADL;AAEHC,QAAAA,MAAM,EAAE,KAFL;AAGHC,QAAAA,IAAI,EAAE;AAHH,OAAP;;AAKJ,SAAKX,mBAAL;AACI,UAAIa,KAAK,CAACF,IAAN,CAAWQ,IAAX,KAAoB,CAAxB,EAA2B,OAAON,KAAP;AAC3B,aAAO,EACH,GAAGA,KADA;AAEHJ,QAAAA,MAAM,EAAE,KAFL;AAGHE,QAAAA,IAAI,EAAEK,OAAO,CAACL;AAHX,OAAP;;AAKJ,SAAKV,WAAL;AACI,aAAO,EACH,GAAGY,KADA;AAEHJ,QAAAA,MAAM,EAAE,KAFL;AAGHQ,QAAAA,KAAK,EAAE;AAHJ,OAAP;;AAKJ,SAAKb,YAAL;AACI,aAAO,EACH,GAAGS,KADA;AAEHJ,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAIJ,SAAKP,mBAAL;AACI,aAAO,EACH,GAAGW,KADA;AAEHJ,QAAAA,MAAM,EAAE,KAFL;AAGHE,QAAAA,IAAI,EAAEK,OAAO,CAACL;AAHX,OAAP;;AAKJ,SAAKN,YAAL;AACI,aAAO,EACH,GAAGQ,KADA;AAEHJ,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAIJ;AACI,aAAOI,KAAP;AA/ER;AAiFH,CApFM","sourcesContent":["import {\r\n    USER_LOGIN_REQUEST,\r\n    USER_LOGIN_SUCCESS,\r\n    USER_AUTH_FAIL,\r\n    USER_REGISTER_REQUEST,\r\n    USER_REGISTER_SUCCESS,\r\n    USER_VERIFY,\r\n    USER_LOGOUT,\r\n    USER_UPLOAD_PROFILE,\r\n    CLEAR_ERROR,\r\n    USER_UPDATE_PROFILE,\r\n    USER_UPLOAD_REQUEST,\r\n    USER_REQUEST,\r\n    REQUEST_FAIL,\r\n    USER_FORGET_SENDEMAIL,\r\n    USER_FORGET_RESET,\r\n} from \"./typeAuth\";\r\n\r\nconst userState = {\r\n    isLoad: true,\r\n    isAuth: false,\r\n    user: null,\r\n};\r\n\r\nexport const userAuth = (state = userState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        case USER_LOGIN_REQUEST:\r\n        case USER_UPLOAD_REQUEST:\r\n            return {\r\n                ...state,\r\n                isLoad: true,\r\n            };\r\n\r\n        case USER_LOGIN_SUCCESS:\r\n        case USER_FORGET_SENDEMAIL:\r\n        case USER_FORGET_RESET:\r\n            return {\r\n                ...state,\r\n                isLoad: false,\r\n            };\r\n\r\n        case USER_REGISTER_REQUEST:\r\n            return {\r\n                ...state,\r\n                isLoad: true,\r\n            };\r\n\r\n        case USER_REGISTER_SUCCESS:\r\n            return {\r\n                isLoad: false,\r\n                isAuth: false,\r\n                user: null,\r\n            };\r\n\r\n        case USER_AUTH_FAIL:\r\n            return {\r\n                ...state,\r\n                isLoad: false,\r\n                error: payload.error.includes(\"jwt\")\r\n                    ? \"Hành động đã quá hạn!!\"\r\n                    : payload.error,\r\n            };\r\n        case USER_VERIFY:\r\n            return {\r\n                isLoad: false,\r\n                isAuth: payload.isAuth,\r\n                user: payload.user,\r\n            };\r\n        case USER_LOGOUT:\r\n            return {\r\n                isLoad: false,\r\n                isAuth: false,\r\n                user: null,\r\n            };\r\n        case USER_UPLOAD_PROFILE:\r\n            if (state.user.mark === 1) return state;\r\n            return {\r\n                ...state,\r\n                isLoad: false,\r\n                user: payload.user,\r\n            };\r\n        case CLEAR_ERROR:\r\n            return {\r\n                ...state,\r\n                isLoad: false,\r\n                error: null,\r\n            };\r\n        case USER_REQUEST:\r\n            return {\r\n                ...state,\r\n                isLoad: true,\r\n            };\r\n        case USER_UPDATE_PROFILE:\r\n            return {\r\n                ...state,\r\n                isLoad: false,\r\n                user: payload.user,\r\n            };\r\n        case REQUEST_FAIL:\r\n            return {\r\n                ...state,\r\n                isLoad: false,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}