{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\ShopFull\\\\client\\\\src\\\\component\\\\Context\\\\userProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useReducer } from \"react\";\nimport authReducer from \"./authReducer\";\nimport { URL_SERVER } from \"../helpers/key\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport SetHeaderDefault from \"../helpers/SetHeader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const userContext = /*#__PURE__*/React.createContext();\n\nconst UserProvider = ({\n  children\n}) => {\n  _s();\n\n  const [userState, dispatch] = useReducer(authReducer, {\n    isLoad: true,\n    //\n    isAuth: false,\n    //\n    user: null,\n    //\n    isMounted: false //\n\n  });\n  const history = useHistory();\n\n  const signUp = async DataForm => {\n    console.log(\"post\");\n\n    try {\n      const response = await axios.post(`${URL_SERVER}/register`, DataForm);\n      return response.data;\n    } catch (err) {\n      console.log(err.response.data);\n      return err.response.data ? err.response.data : {\n        sucess: false,\n        //\n        msg: \"Internal Server Error\"\n      };\n    }\n  };\n\n  const Login = async DataForm => {\n    try {\n      const response = await axios.post(`${URL_SERVER}/login`, DataForm);\n\n      if (response.data.sucess) {\n        history.push(\"/\");\n      } //\n\n    } catch (err) {\n      return err.response.data ? err.response.data : {\n        sucess: false,\n        msg: \"Internal server error\"\n      };\n    }\n  };\n\n  const userContextData = {\n    signUp\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(userContext.Provider, {\n      value: userContextData,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(UserProvider, \"IgQWmAz3kNPZ/LAvrQgLh7bsSjc=\", false, function () {\n  return [useHistory];\n});\n\n_c = UserProvider;\nexport default UserProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"sources":["C:/Users/DELL/Desktop/ShopFull/client/src/component/Context/userProvider.js"],"names":["React","useContext","useReducer","authReducer","URL_SERVER","axios","useHistory","SetHeaderDefault","userContext","createContext","UserProvider","children","userState","dispatch","isLoad","isAuth","user","isMounted","history","signUp","DataForm","console","log","response","post","data","err","sucess","msg","Login","push","userContextData"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,UAA5B,QAA8C,OAA9C;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;;;AAEA,OAAO,MAAMC,WAAW,gBAAGR,KAAK,CAACS,aAAN,EAApB;;AAEP,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AACnC,QAAM,CAACC,SAAD,EAAYC,QAAZ,IAAwBX,UAAU,CAACC,WAAD,EAAc;AAClDW,IAAAA,MAAM,EAAE,IAD0C;AACpC;AACdC,IAAAA,MAAM,EAAE,KAF0C;AAEnC;AACfC,IAAAA,IAAI,EAAE,IAH4C;AAGtC;AACZC,IAAAA,SAAS,EAAE,KAJuC,CAIhC;;AAJgC,GAAd,CAAxC;AAMA,QAAMC,OAAO,GAAGZ,UAAU,EAA1B;;AACA,QAAMa,MAAM,GAAG,MAAOC,QAAP,IAAoB;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,IAAN,CAClB,GAAEpB,UAAW,WADK,EAEnBgB,QAFmB,CAAvB;AAKA,aAAOG,QAAQ,CAACE,IAAhB;AACH,KAPD,CAOE,OAAOC,GAAP,EAAY;AACVL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACH,QAAJ,CAAaE,IAAzB;AACA,aAAOC,GAAG,CAACH,QAAJ,CAAaE,IAAb,GACDC,GAAG,CAACH,QAAJ,CAAaE,IADZ,GAED;AACIE,QAAAA,MAAM,EAAE,KADZ;AACmB;AACfC,QAAAA,GAAG,EAAE;AAFT,OAFN;AAMH;AACJ,GAlBD;;AAoBA,QAAMC,KAAK,GAAG,MAAOT,QAAP,IAAoB;AAC9B,QAAI;AACA,YAAMG,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,IAAN,CAAY,GAAEpB,UAAW,QAAzB,EAAkCgB,QAAlC,CAAvB;;AACA,UAAIG,QAAQ,CAACE,IAAT,CAAcE,MAAlB,EAA0B;AACtBT,QAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACH,OAJD,CAIE;;AACL,KALD,CAKE,OAAOJ,GAAP,EAAY;AACV,aAAOA,GAAG,CAACH,QAAJ,CAAaE,IAAb,GACDC,GAAG,CAACH,QAAJ,CAAaE,IADZ,GAED;AAAEE,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,GAAG,EAAE;AAAtB,OAFN;AAGH;AACJ,GAXD;;AAaA,QAAMG,eAAe,GAAG;AACpBZ,IAAAA;AADoB,GAAxB;AAGA,sBACI;AAAA,2BACI,QAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAEY,eAA7B;AAAA,gBACKpB;AADL;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAOH,CAnDD;;GAAMD,Y;UAOcJ,U;;;KAPdI,Y;AAqDN,eAAeA,YAAf","sourcesContent":["import React, { useContext, useReducer } from \"react\";\r\nimport authReducer from \"./authReducer\";\r\nimport { URL_SERVER } from \"../helpers/key\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport SetHeaderDefault from \"../helpers/SetHeader\";\r\n\r\nexport const userContext = React.createContext();\r\n\r\nconst UserProvider = ({ children }) => {\r\n    const [userState, dispatch] = useReducer(authReducer, {\r\n        isLoad: true, //\r\n        isAuth: false, //\r\n        user: null, //\r\n        isMounted: false, //\r\n    });\r\n    const history = useHistory();\r\n    const signUp = async (DataForm) => {\r\n        console.log(\"post\");\r\n        try {\r\n            const response = await axios.post(\r\n                `${URL_SERVER}/register`,\r\n                DataForm\r\n            );\r\n\r\n            return response.data;\r\n        } catch (err) {\r\n            console.log(err.response.data);\r\n            return err.response.data\r\n                ? err.response.data\r\n                : {\r\n                      sucess: false, //\r\n                      msg: \"Internal Server Error\",\r\n                  };\r\n        }\r\n    };\r\n\r\n    const Login = async (DataForm) => {\r\n        try {\r\n            const response = await axios.post(`${URL_SERVER}/login`, DataForm);\r\n            if (response.data.sucess) {\r\n                history.push(\"/\");\r\n            } //\r\n        } catch (err) {\r\n            return err.response.data\r\n                ? err.response.data\r\n                : { sucess: false, msg: \"Internal server error\" };\r\n        }\r\n    };\r\n\r\n    const userContextData = {\r\n        signUp,\r\n    };\r\n    return (\r\n        <>\r\n            <userContext.Provider value={userContextData}>\r\n                {children}\r\n            </userContext.Provider>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UserProvider;\r\n"]},"metadata":{},"sourceType":"module"}